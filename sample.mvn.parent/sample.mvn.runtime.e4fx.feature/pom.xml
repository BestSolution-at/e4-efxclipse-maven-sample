<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>sample.mvn</groupId>
		<artifactId>sample.mvn.parent</artifactId>
		<version>0.0.1-SNAPSHOT</version>
	</parent>
	<artifactId>sample.mvn.runtime.e4fx.feature</artifactId>

	<properties>
		<efxclipse.version>3.0.0</efxclipse.version>
		<efxclipse.update.site>http://artifactory-medmuc:8084/artifactory/efxclipse-runtime-released/3.0.0/site</efxclipse.update.site>
        <!-- possible configuration properties for the dependency extension -->
        <!--

        -->
	</properties>

    <description>
        The dependencies of this pom are generated by the maven extension defined in ../sample.mvn.parent/.mvn/extension.xml.

        This extension takes the update site referenced by the property efxclipse.update.site (defined above), does the following steps
        - downloads the site.xml
        - extracts the sub-url for the target platform feature
        - downloads the target platforum feature jar
        - extracts the feature.xml
        - parses the feature.xml and transforms all referenced plugins into maven dependencies
            - only plugins contained in a white list are considered
            - artifactId is pluginId
            - group Id -> if plugin Id contains org.eclipse.fx -> at.bestsolution.efxclipse.rt, else at.bestsolution.efxclipse.eclipse
            - version: removes everything after the last .
        - one hard codes dependency fix for com.google.guava is set to Version 21.0.0 instead of 15.0.0 as referenced in the feature.xml (lead to resolution
        problems)
        - additional depenency to at.bestsolution.efxclipse.eclipse,org.eclipse.osgi.compatibility.state,1.0.200
        - NOTE: the extension uses a whitelist file and an addtional file for additonal dependencies. These files are (at the moment) part of the extension jar

    </description>
    <build>
        <plugins>
            <plugin>
                <groupId>at.bestsolution</groupId>
                <artifactId>maven-osgi-package-plugin</artifactId>
                <version>0.0.2-SNAPSHOT</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>package-feature</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <providerName>BestSolution.at</providerName>
                    <qualifier>${osgi.qualifier}</qualifier>
                </configuration>
            </plugin>
            <plugin>
                <groupId>biz.aQute.bnd</groupId>
                <artifactId>bnd-maven-plugin</artifactId>
                <configuration>
                    <skip>true</skip>
                </configuration>
            </plugin>
        </plugins>
    </build>

</project>